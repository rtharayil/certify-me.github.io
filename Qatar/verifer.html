<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verifier Portal – Qatar Foundation</title>
<link href__="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--g1:#1a5c3a;--g2:#2d7a50;--g3:#3a9d68;--mint:#b8e6cc;--ml:#d4f0e0;--mp:#e8f5ee;--w:#fff;--t:#1a2e23;--tl:#5a7568;--red:#d94f4f;--b:#c8ddd1;--sh:rgba(26,92,58,.1);--sh2:rgba(26,92,58,.18);--r:16px;--rs:10px;--tr:.3s cubic-bezier(.4,0,.2,1);--sw:270px}
body{font-family:'DM Sans',sans-serif;min-height:100vh;background:linear-gradient(145deg,#d6efe0,#b3dcc4 30%,#8fcbaa 60%,#b8e0c8);display:flex;align-items:center;justify-content:center;overflow-x:hidden;transition:background .3s}
body.dark{background:linear-gradient(145deg,#1a2e23,#2d3e36 30%,#3a4d42 60%,#2d3e36)}
body.dm{align-items:stretch;justify-content:stretch}
body::before,body::after{content:'';position:fixed;border-radius:50%;filter:blur(80px);opacity:.35;z-index:0;pointer-events:none}
body::before{width:500px;height:500px;background:radial-gradient(circle,#7ccba2,transparent);top:-120px;right:-100px;animation:fo 18s ease-in-out infinite}
body::after{width:400px;height:400px;background:radial-gradient(circle,#a3e4c1,transparent);bottom:-80px;left:-60px;animation:fo 22s ease-in-out infinite reverse}
@keyframes fo{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(30px,-20px) scale(1.05)}66%{transform:translate(-20px,15px) scale(.95)}}
@keyframes su{to{opacity:1;transform:translateY(0)}}
@keyframes shake{0%,100%{transform:translateX(0)}20%,60%{transform:translateX(-6px)}40%,80%{transform:translateX(6px)}}
.shake{animation:shake .4s ease}

/* AUTH */
#aw{position:relative;z-index:1;width:100%;display:flex;align-items:center;justify-content:center;min-height:100vh;padding:24px}
.ac{width:100%;max-width:1080px;min-height:600px;display:flex;border-radius:24px;overflow:hidden;box-shadow:0 4px 6px var(--sh),0 20px 50px var(--sh2),0 0 0 1px rgba(255,255,255,.3);background:var(--w);animation:su .7s cubic-bezier(.22,1,.36,1) forwards;opacity:0;transform:translateY(30px)}
.bp{width:44%;background:linear-gradient(165deg,#1a5c3a,#2d7a50 50%,#3a9d68);padding:48px 36px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;position:relative;overflow:hidden}
.bp::before{content:'';position:absolute;top:-100px;right:-100px;width:350px;height:350px;border-radius:50%;background:rgba(255,255,255,.04)}
.bp::after{content:'';position:absolute;bottom:-60px;left:-60px;width:250px;height:250px;border-radius:50%;background:rgba(255,255,255,.04)}
.bl{display:flex;flex-direction:column;align-items:center;gap:18px;position:relative;z-index:1}
.bl .li{width:90px;height:90px;background:rgba(255,255,255,.95);border-radius:20px;display:flex;align-items:center;justify-content:center;padding:8px;box-shadow:0 8px 30px rgba(0,0,0,.12)}
.bl .li img{width:100%;height:100%;object-fit:contain}
.blt span:first-child{font-family:'Playfair Display',serif;font-size:20px;font-weight:600;color:#fff}
.blt span:last-child{font-size:13px;color:rgba(255,255,255,.6);letter-spacing:1px;display:block;margin-top:2px}
.bc{position:relative;z-index:1;margin-top:30px}
.bc h1{font-family:'Playfair Display',serif;font-size:28px;font-weight:600;color:#fff;line-height:1.3;margin-bottom:12px}
.bc p{font-size:14px;color:rgba(255,255,255,.7);line-height:1.6}
.fp{flex:1;padding:40px 48px;display:flex;flex-direction:column;justify-content:center;background:var(--w);overflow-y:auto}
.fl{display:none;align-items:center;gap:10px;margin-bottom:20px}
.fl img{width:42px;height:42px;object-fit:contain}
.fl span{font-family:'Playfair Display',serif;font-size:15px;font-weight:600;color:var(--g1)}
.fpg{display:none;opacity:0;transform:translateX(20px);transition:opacity .4s,transform .4s}
.fpg.active{display:block;opacity:1;transform:translateX(0)}
.fh{margin-bottom:26px}
.fh .badge{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;background:var(--mp);border-radius:20px;font-size:11px;font-weight:600;color:var(--g2);text-transform:uppercase;letter-spacing:.8px;margin-bottom:12px}
.fh .badge svg{width:13px;height:13px;stroke:var(--g2);fill:none;stroke-width:2}
.fh h2{font-family:'Playfair Display',serif;font-size:26px;font-weight:600;color:var(--t);margin-bottom:5px}
.fh p{font-size:13.5px;color:var(--tl);line-height:1.5}
.fg{margin-bottom:16px;position:relative}
.fg label{display:block;font-size:12.5px;font-weight:500;color:var(--t);margin-bottom:6px}
.fg .req{color:var(--red)}
.iw{position:relative}
.iw .ii{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:17px;height:17px;stroke:var(--tl);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;pointer-events:none;transition:stroke var(--tr)}
.iw input,.iw select,.iw textarea{width:100%;padding:12px 14px 12px 42px;border:1.5px solid var(--b);border-radius:var(--rs);font-family:'DM Sans',sans-serif;font-size:13.5px;color:var(--t);background:#f8fbf9;transition:var(--tr);outline:none}
.iw input::placeholder,.iw textarea::placeholder{color:#a0b8aa}
.iw input:focus,.iw select:focus,.iw textarea:focus{border-color:var(--g2);background:#fff;box-shadow:0 0 0 3px rgba(45,122,80,.08)}
.iw input:focus~.ii{stroke:var(--g2)}
.iw input.err,.iw select.err{border-color:var(--red);box-shadow:0 0 0 3px rgba(217,79,79,.08)}
.tp{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:3px}
.tp svg{width:17px;height:17px;stroke:var(--tl);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round}
.tp:hover svg{stroke:var(--g2)}
.em{font-size:11.5px;color:var(--red);margin-top:4px;display:none;align-items:center;gap:4px}
.em.show{display:flex}
.em svg{width:13px;height:13px;stroke:var(--red);fill:none;stroke-width:2;flex-shrink:0}
.cr{display:flex;gap:10px;align-items:flex-end}
.cr .fg{flex:1}
.cd{height:46px;min-width:120px;background:linear-gradient(135deg,#e8f5ee,#d4f0e0);border:1.5px solid var(--b);border-radius:var(--rs);display:flex;align-items:center;justify-content:center;position:relative;user-select:none;overflow:hidden}
.cd::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(90deg,transparent,transparent 8px,rgba(26,92,58,.04) 8px,rgba(26,92,58,.04) 9px),repeating-linear-gradient(0deg,transparent,transparent 6px,rgba(26,92,58,.03) 6px,rgba(26,92,58,.03) 7px)}
.ct{font-family:'Playfair Display',serif;font-size:21px;font-weight:700;color:var(--g1);letter-spacing:5px;position:relative;z-index:1}
.crf{position:absolute;right:4px;top:4px;width:22px;height:22px;border-radius:6px;background:rgba(255,255,255,.6);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:2}
.crf:hover{background:rgba(255,255,255,.9)}
.crf svg{width:12px;height:12px;stroke:var(--g1);fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.fo{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.rm{display:flex;align-items:center;gap:7px;cursor:pointer}
.rm input[type="checkbox"]{display:none}
.ck{width:17px;height:17px;border:1.5px solid var(--b);border-radius:4px;display:flex;align-items:center;justify-content:center;transition:var(--tr);background:#f8fbf9}
.rm input:checked~.ck{background:var(--g2);border-color:var(--g2)}
.ck svg{width:11px;height:11px;stroke:#fff;fill:none;stroke-width:2.5;opacity:0;transform:scale(.5);transition:var(--tr)}
.rm input:checked~.ck svg{opacity:1;transform:scale(1)}
.rm>span{font-size:12.5px;color:var(--tl)}
.lb{background:none;border:none;color:var(--g2);font-size:12.5px;font-weight:500;cursor:pointer;font-family:'DM Sans',sans-serif;transition:var(--tr)}
.lb:hover{color:var(--g1);text-decoration:underline}
.bp-btn{width:100%;padding:13px;background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff;border:none;border-radius:var(--rs);font-family:'DM Sans',sans-serif;font-size:14.5px;font-weight:600;cursor:pointer;position:relative;overflow:hidden;transition:var(--tr)}
.bp-btn::before{content:'';position:absolute;top:0;left:-100%;bottom:0;width:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.15),transparent);transition:left .5s}
.bp-btn:hover{box-shadow:0 6px 20px rgba(26,92,58,.3);transform:translateY(-1px)}
.bp-btn:hover::before{left:100%}
.gsso{width:100%;padding:12px;background:#fff;border:1.5px solid var(--b);border-radius:var(--rs);font-family:'DM Sans',sans-serif;font-size:13.5px;font-weight:500;color:var(--t);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:var(--tr);margin-bottom:20px}
.gsso:hover{background:#f8fbf9;border-color:var(--g2)}
.gsso img{width:20px;height:20px}
.div{display:flex;align-items:center;gap:14px;margin:20px 0;color:var(--tl);font-size:12px}
.div::before,.div::after{content:'';flex:1;height:1px;background:var(--b)}
.ff{text-align:center;margin-top:22px;font-size:13px;color:var(--tl)}
.ff .lb{font-size:13px;font-weight:600}
.btl{display:flex;align-items:center;gap:5px;background:none;border:none;cursor:pointer;font-family:'DM Sans',sans-serif;font-size:12.5px;font-weight:500;color:var(--tl);margin-bottom:18px;transition:var(--tr)}
.btl svg{width:15px;height:15px;stroke:var(--tl);fill:none;stroke-width:2;transition:var(--tr)}
.btl:hover{color:var(--g2)}
.btl:hover svg{stroke:var(--g2);transform:translateX(-3px)}
.tc{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.ps{display:flex;gap:3px;margin-top:5px}
.sb{flex:1;height:3px;border-radius:3px;background:var(--b);transition:background .3s}
.sb.weak{background:var(--red)}.sb.medium{background:#e6a23c}.sb.strong{background:var(--g3)}.sb.vstrong{background:var(--g1)}
.sl{font-size:10.5px;margin-top:3px;color:var(--tl)}
.toast{position:fixed;top:24px;right:24px;padding:14px 22px;background:var(--g2);color:#fff;border-radius:12px;font-size:13.5px;font-weight:500;box-shadow:0 8px 30px rgba(26,92,58,.3);transform:translateX(120%);transition:transform .4s cubic-bezier(.22,1,.36,1);z-index:1000;display:flex;align-items:center;gap:10px}
.toast.show{transform:translateX(0)}
.toast svg{width:18px;height:18px;stroke:#fff;fill:none;stroke-width:2}

/* DASHBOARD */
#dw{display:none;width:100%;min-height:100vh;position:relative;z-index:1}
#dw.active{display:flex}
.side{width:var(--sw);background:linear-gradient(180deg,#e4f3ea,#d4eede 50%,#e0f0e8);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:50;border-right:1px solid rgba(200,221,209,.6);transition:transform .3s,background .3s}
body.dark .side{background:linear-gradient(180deg,#1e2e27,#263329 50%,#2a3830)}
.side-h{padding:20px 20px 18px}
.side-logo{display:flex;align-items:center;gap:10px}
.side-logo img{width:46px;height:46px;object-fit:contain}
.side-lt span{display:block}
.side-lt span:first-child{font-family:'Playfair Display',serif;font-size:13px;font-weight:600;color:var(--g1)}
.side-lt span:last-child{font-size:10px;color:var(--tl);letter-spacing:.3px}
body.dark .side-lt span:first-child{color:var(--mint)}
body.dark .side-lt span:last-child{color:#8a9d91}
.side-prof{padding:16px 20px;display:flex;align-items:center;gap:11px}
.pav{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,var(--g2),var(--g3));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:15px;flex-shrink:0}
.pi{flex:1}
.pn{font-size:13.5px;font-weight:600;color:var(--g1)}
body.dark .pn{color:var(--mint)}
.pr{font-size:11.5px;color:var(--tl)}
body.dark .pr{color:#8a9d91}
.pe{width:24px;height:24px;border:none;background:none;cursor:pointer;display:flex;align-items:center;justify-content:center}
.pe svg{width:16px;height:16px;stroke:var(--tl);fill:none;stroke-width:2}
.side-nav{flex:1;padding:10px 14px;overflow-y:auto}
.nlbl{font-size:10px;font-weight:600;color:var(--tl);text-transform:uppercase;letter-spacing:1px;padding:10px 10px 6px}
body.dark .nlbl{color:#8a9d91}
.ni{display:flex;align-items:center;gap:11px;padding:10px 12px;border-radius:10px;font-size:13.5px;color:var(--t);cursor:pointer;transition:var(--tr);border:none;background:none;width:100%;font-family:'DM Sans',sans-serif;text-align:left}
body.dark .ni{color:#d4f0e0}
.ni:hover{background:rgba(45,122,80,.07)}
body.dark .ni:hover{background:rgba(184,230,204,.1)}
.ni.active{background:var(--g1);color:#fff;font-weight:500;box-shadow:0 2px 10px rgba(26,92,58,.2)}
.ni svg{width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;flex-shrink:0}
.ni .nc{width:14px;height:14px;margin-left:auto}
.side-ft{padding:12px 14px;border-top:1px solid var(--b)}
body.dark .side-ft{border-top-color:#3a4d42}
.ni.lo{color:var(--red)}
.ni.lo:hover{background:rgba(217,79,79,.07)}
.dm-main{flex:1;margin-left:var(--sw);display:flex;flex-direction:column;min-height:100vh}
.tb{display:flex;align-items:center;justify-content:space-between;padding:14px 28px;background:rgba(255,255,255,.5);backdrop-filter:blur(12px);border-bottom:1px solid rgba(200,221,209,.5);position:sticky;top:0;z-index:40;transition:background .3s,border .3s}
body.dark .tb{background:rgba(30,46,35,.8);border-bottom-color:rgba(58,77,66,.5)}
.tb-l{display:flex;align-items:center;gap:12px}
.tb h2{font-family:'Playfair Display',serif;font-size:20px;font-weight:600;color:var(--g1)}
body.dark .tb h2{color:var(--mint)}
.tb-a{display:flex;align-items:center;gap:10px}
.tbb{width:38px;height:38px;border-radius:10px;border:1px solid var(--b);background:var(--w);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--tr);position:relative}
body.dark .tbb{background:rgba(30,46,35,.6);border-color:#3a4d42}
.tbb:hover{background:var(--mp);border-color:var(--g2)}
body.dark .tbb:hover{background:rgba(184,230,204,.1)}
.tbb svg{width:17px;height:17px;stroke:var(--t);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round}
body.dark .tbb svg{stroke:var(--mint)}
.mt{display:none;width:38px;height:38px;border-radius:10px;border:1px solid var(--b);background:var(--w);align-items:center;justify-content:center;cursor:pointer}
body.dark .mt{background:rgba(30,46,35,.6);border-color:#3a4d42}
.mt svg{width:17px;height:17px;stroke:var(--t);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round}
body.dark .mt svg{stroke:var(--mint)}
.dc{padding:24px 28px;flex:1}
.dv{display:none}
.dv.active{display:block}

/* Dashboard Stats */
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:30px}
.stat-card{background:var(--w);border-radius:16px;padding:24px;box-shadow:0 1px 4px var(--sh),0 4px 16px rgba(26,92,58,.05);transition:var(--tr)}
body.dark .stat-card{background:rgba(30,46,35,.6);box-shadow:0 1px 4px rgba(0,0,0,.2),0 4px 16px rgba(0,0,0,.1)}
.stat-card:hover{box-shadow:0 6px 24px var(--sh2);transform:translateY(-2px)}
.stat-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:16px}
.stat-icon.blue{background:linear-gradient(135deg,#4a90d9,#357abd)}
.stat-icon.green{background:linear-gradient(135deg,var(--g2),var(--g3))}
.stat-icon.orange{background:linear-gradient(135deg,#f5a623,#e89623)}
.stat-icon.red{background:linear-gradient(135deg,#e74c3c,#d63c2c)}
.stat-icon svg{width:24px;height:24px;stroke:#fff;fill:none;stroke-width:2}
.stat-value{font-family:'Playfair Display',serif;font-size:32px;font-weight:700;color:var(--t);margin-bottom:4px}
body.dark .stat-value{color:var(--mint)}
.stat-label{font-size:13px;color:var(--tl);font-weight:500}
body.dark .stat-label{color:#8a9d91}

/* Chart Container */
.chart-container{background:var(--w);border-radius:16px;padding:24px;box-shadow:0 1px 4px var(--sh),0 4px 16px rgba(26,92,58,.05);margin-bottom:30px}
body.dark .chart-container{background:rgba(30,46,35,.6);box-shadow:0 1px 4px rgba(0,0,0,.2),0 4px 16px rgba(0,0,0,.1)}
.chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}
.chart-title{font-family:'Playfair Display',serif;font-size:18px;font-weight:600;color:var(--t)}
body.dark .chart-title{color:var(--mint)}
.chart-tabs{display:flex;gap:8px}
.chart-tab{padding:8px 16px;background:var(--mp);border:none;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:12px;font-weight:600;color:var(--g1);cursor:pointer;transition:var(--tr)}
body.dark .chart-tab{background:rgba(184,230,204,.2);color:var(--mint)}
.chart-tab.active{background:var(--g1);color:#fff}
.chart-tab:hover:not(.active){background:var(--ml)}
body.dark .chart-tab:hover:not(.active){background:rgba(184,230,204,.3)}

/* Line Chart */
.line-chart-container{position:relative;height:320px;padding:20px 0}
.line-chart-svg{width:100%;height:100%}
.chart-grid-line{stroke:var(--b);stroke-width:1;stroke-dasharray:4,4}
body.dark .chart-grid-line{stroke:#3a4d42}
.chart-line{fill:none;stroke:var(--g2);stroke-width:3;stroke-linecap:round;stroke-linejoin:round}
.chart-area{fill:url(#areaGradient);opacity:0.3}
.chart-dot{fill:var(--g1);stroke:#fff;stroke-width:2;cursor:pointer;transition:r .2s}
.chart-dot:hover{r:8}
.chart-label{font-size:11px;fill:var(--tl);text-anchor:middle}
body.dark .chart-label{fill:#8a9d91}
.chart-y-label{font-size:10px;fill:var(--tl);text-anchor:end}
body.dark .chart-y-label{fill:#8a9d91}
.chart-tooltip{position:absolute;background:var(--g1);color:#fff;padding:8px 12px;border-radius:8px;font-size:12px;font-weight:600;pointer-events:none;opacity:0;transition:opacity .2s;z-index:10;white-space:nowrap}
.chart-tooltip::after{content:'';position:absolute;bottom:-6px;left:50%;transform:translateX(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid var(--g1)}

/* Course Cards */
.course-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
.course-card{padding:20px;background:linear-gradient(135deg,var(--mp),#fff);border-radius:12px;border:1.5px solid var(--b);transition:var(--tr)}
body.dark .course-card{background:linear-gradient(135deg,rgba(184,230,204,.15),rgba(30,46,35,.6));border-color:#3a4d42}
.course-card:hover{transform:translateY(-3px);box-shadow:0 6px 20px var(--sh2)}
.course-name{font-size:13px;color:var(--tl);margin-bottom:8px;font-weight:500}
body.dark .course-name{color:#8a9d91}
.course-count{font-size:28px;font-weight:700;color:var(--g1);font-family:'Playfair Display',serif}
body.dark .course-count{color:var(--mint)}

/* Task Queue */
.task-tabs{display:flex;gap:10px;margin-bottom:20px}
.tab-btn{padding:10px 20px;background:var(--w);border:1.5px solid var(--b);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;color:var(--t);cursor:pointer;transition:var(--tr)}
body.dark .tab-btn{background:rgba(30,46,35,.6);border-color:#3a4d42;color:var(--mint)}
.tab-btn.active{background:var(--g1);border-color:var(--g1);color:#fff}
.tab-btn:hover:not(.active){background:var(--mp);border-color:var(--g2)}
body.dark .tab-btn:hover:not(.active){background:rgba(184,230,204,.1)}
.filter-search{display:flex;gap:12px;margin-bottom:20px;align-items:center}
.filter-btn{padding:10px 18px;background:var(--w);border:1.5px solid var(--b);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:500;color:var(--t);cursor:pointer;transition:var(--tr);display:flex;align-items:center;gap:6px}
body.dark .filter-btn{background:rgba(30,46,35,.6);border-color:#3a4d42;color:var(--mint)}
.filter-btn:hover{background:var(--mp);border-color:var(--g2)}
body.dark .filter-btn:hover{background:rgba(184,230,204,.1)}
.filter-btn svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2}
.search-input{flex:1;padding:10px 16px 10px 40px;border:1.5px solid var(--b);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13px;color:var(--t);background:var(--w);transition:var(--tr);outline:none}
body.dark .search-input{background:rgba(30,46,35,.6);border-color:#3a4d42;color:var(--mint)}
.search-input:focus{border-color:var(--g2);box-shadow:0 0 0 3px rgba(45,122,80,.08)}
.search-wrapper{position:relative;flex:1}
.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;stroke:var(--tl);fill:none;stroke-width:2}
body.dark .search-icon{stroke:var(--mint)}
.apply-btn{padding:10px 24px;background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff;border:none;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;cursor:pointer;transition:var(--tr)}
.apply-btn:hover{box-shadow:0 4px 12px rgba(26,92,58,.3);transform:translateY(-1px)}

/* Task List */
.task-list{display:flex;flex-direction:column;gap:16px}
.task-item{background:var(--w);border-radius:12px;padding:20px;box-shadow:0 1px 3px var(--sh),0 2px 8px rgba(26,92,58,.04);transition:var(--tr);position:relative}
body.dark .task-item{background:rgba(30,46,35,.6);box-shadow:0 1px 3px rgba(0,0,0,.2),0 2px 8px rgba(0,0,0,.1)}
.task-item:hover{box-shadow:0 4px 16px var(--sh2);transform:translateY(-1px)}
.task-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}
.task-student{display:flex;align-items:center;gap:10px}
.student-avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--g2),var(--g3));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:13px}
.student-info h4{font-size:14px;font-weight:600;color:var(--t);margin-bottom:2px}
body.dark .student-info h4{color:var(--mint)}
.student-info p{font-size:11px;color:var(--tl)}
body.dark .student-info p{color:#8a9d91}
.task-badge{padding:5px 12px;border-radius:20px;font-size:11px;font-weight:600}
.task-badge.applied{background:#e3f2fd;color:#2196f3}
body.dark .task-badge.applied{background:rgba(33,150,243,.2)}
.task-badge.verified{background:var(--mp);color:var(--g2)}
body.dark .task-badge.verified{background:rgba(184,230,204,.2)}
.task-badge.hold{background:#fff3e0;color:#e6a23c}
body.dark .task-badge.hold{background:rgba(230,162,60,.2)}
.task-details{margin-bottom:12px}
.task-detail-row{display:flex;align-items:center;gap:8px;margin-bottom:6px;font-size:12px;color:var(--t)}
body.dark .task-detail-row{color:#d4f0e0}
.task-detail-row strong{font-weight:600;color:var(--g1)}
body.dark .task-detail-row strong{color:var(--mint)}
.task-actions{display:flex;gap:8px;justify-content:flex-end}
.action-btn{padding:8px 16px;background:none;border:1.5px solid var(--b);color:var(--t);border-radius:6px;font-family:'DM Sans',sans-serif;font-size:12px;font-weight:500;cursor:pointer;transition:var(--tr);display:flex;align-items:center;gap:6px}
body.dark .action-btn{border-color:#3a4d42;color:var(--mint)}
.action-btn:hover{background:var(--mp);border-color:var(--g2)}
body.dark .action-btn:hover{background:rgba(184,230,204,.1)}
.action-btn svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2}
.action-btn.primary{background:linear-gradient(135deg,var(--g1),var(--g2));border-color:var(--g1);color:#fff}
.action-btn.primary:hover{box-shadow:0 4px 12px rgba(26,92,58,.3)}
.action-btn.warning{background:#fff3e0;border-color:#e6a23c;color:#e6a23c}
.action-btn.warning:hover{background:#ffe4b5}

/* Modal */
.modal{display:none;position:fixed;inset:0;background:rgba(26,46,35,.7);backdrop-filter:blur(4px);z-index:200;align-items:center;justify-content:center;padding:24px}
.modal.show{display:flex}
.mcon{background:var(--w);border-radius:16px;max-width:800px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(26,92,58,.3)}
body.dark .mcon{background:#1e2e27}
.mh{padding:24px;border-bottom:1px solid var(--b);display:flex;justify-content:space-between;align-items:center}
body.dark .mh{border-bottom-color:#3a4d42}
.mh h3{font-family:'Playfair Display',serif;font-size:22px;font-weight:600;color:var(--t)}
body.dark .mh h3{color:var(--mint)}
.mcb{width:32px;height:32px;border:none;background:var(--mp);border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--tr)}
body.dark .mcb{background:rgba(184,230,204,.1)}
.mcb:hover{background:var(--ml)}
.mcb svg{width:16px;height:16px;stroke:var(--t);fill:none;stroke-width:2}
body.dark .mcb svg{stroke:var(--mint)}
.mb{padding:28px}
.detail-section{margin-bottom:24px}
.detail-section h4{font-size:14px;font-weight:600;color:var(--g1);margin-bottom:12px;display:flex;align-items:center;gap:8px}
body.dark .detail-section h4{color:var(--mint)}
.detail-section h4 svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2}
.detail-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.detail-item{background:var(--mp);padding:12px 16px;border-radius:8px}
body.dark .detail-item{background:rgba(184,230,204,.1)}
.detail-item label{font-size:11px;color:var(--tl);display:block;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}
body.dark .detail-item label{color:#8a9d91}
.detail-item span{font-size:14px;font-weight:600;color:var(--t)}
body.dark .detail-item span{color:var(--mint)}
.doc-list{display:flex;flex-direction:column;gap:10px}
.doc-item{padding:14px 16px;background:var(--mp);border-radius:10px;display:flex;align-items:center;justify-content:space-between;transition:var(--tr)}
body.dark .doc-item{background:rgba(184,230,204,.15)}
.doc-item:hover{background:var(--ml)}
.doc-info{display:flex;align-items:center;gap:12px}
.doc-icon{width:40px;height:40px;background:linear-gradient(135deg,var(--g1),var(--g2));border-radius:10px;display:flex;align-items:center;justify-content:center}
.doc-icon svg{width:20px;height:20px;stroke:#fff;fill:none;stroke-width:2}
.doc-details h5{font-size:13px;font-weight:600;color:var(--t);margin-bottom:2px}
body.dark .doc-details h5{color:var(--mint)}
.doc-details p{font-size:11px;color:var(--tl)}
body.dark .doc-details p{color:#8a9d91}
.doc-download{width:36px;height:36px;border:none;background:var(--w);border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--tr)}
body.dark .doc-download{background:rgba(30,46,35,.6)}
.doc-download:hover{background:var(--g1)}
.doc-download:hover svg{stroke:#fff}
.doc-download svg{width:16px;height:16px;stroke:var(--g1);fill:none;stroke-width:2}
body.dark .doc-download svg{stroke:var(--mint)}
.prev-courses-table{width:100%;border-collapse:collapse}
.prev-courses-table th,.prev-courses-table td{padding:12px;text-align:left;border-bottom:1px solid var(--b)}
body.dark .prev-courses-table th,body.dark .prev-courses-table td{border-bottom-color:#3a4d42}
.prev-courses-table th{font-size:11px;font-weight:600;color:var(--tl);text-transform:uppercase;letter-spacing:.5px}
body.dark .prev-courses-table th{color:#8a9d91}
.prev-courses-table td{font-size:13px;color:var(--t)}
body.dark .prev-courses-table td{color:#d4f0e0}
.grade-badge{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600}
.grade-badge.a{background:#d4edda;color:#155724}
.grade-badge.b{background:#e3f2fd;color:#1565c0}
.grade-badge.c{background:#fff3e0;color:#e65100}
.mf{padding:20px 24px;border-top:1px solid var(--b);display:flex;gap:10px;justify-content:flex-end}
body.dark .mf{border-top-color:#3a4d42}
.verify-btn{padding:11px 28px;background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff;border:none;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13.5px;font-weight:600;cursor:pointer;transition:var(--tr)}
.verify-btn:hover{box-shadow:0 4px 12px rgba(26,92,58,.3);transform:translateY(-1px)}
.hold-btn{padding:11px 28px;background:#fff3e0;color:#e6a23c;border:1.5px solid #e6a23c;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13.5px;font-weight:600;cursor:pointer;transition:var(--tr)}
body.dark .hold-btn{background:rgba(230,162,60,.15)}
.hold-btn:hover{background:#ffe4b5}
.close-btn{padding:11px 28px;background:var(--mp);color:var(--t);border:none;border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13.5px;font-weight:600;cursor:pointer;transition:var(--tr)}
body.dark .close-btn{background:rgba(184,230,204,.1);color:var(--mint)}
.close-btn:hover{background:var(--ml)}

/* Hold Reason Modal */
.hold-reason-input{width:100%;padding:14px;border:1.5px solid var(--b);border-radius:8px;font-family:'DM Sans',sans-serif;font-size:13px;color:var(--t);background:#f8fbf9;min-height:120px;resize:vertical;outline:none}
body.dark .hold-reason-input{background:rgba(30,46,35,.6);border-color:#3a4d42;color:var(--mint)}
.hold-reason-input:focus{border-color:var(--g2);background:#fff;box-shadow:0 0 0 3px rgba(45,122,80,.08)}

/* Task History */
.history-list{display:flex;flex-direction:column;gap:12px}
.history-item{background:var(--w);border-radius:12px;padding:20px;box-shadow:0 1px 3px var(--sh);display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:var(--tr)}
body.dark .history-item{background:rgba(30,46,35,.6)}
.history-item:hover{box-shadow:0 4px 16px var(--sh2);transform:translateY(-1px)}
.history-left{display:flex;align-items:center;gap:16px}
.history-avatar{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,var(--g2),var(--g3));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px}
.history-info h4{font-size:14px;font-weight:600;color:var(--t);margin-bottom:4px}
body.dark .history-info h4{color:var(--mint)}
.history-info p{font-size:12px;color:var(--tl)}
body.dark .history-info p{color:#8a9d91}
.history-right{text-align:right}
.history-date{font-size:12px;color:var(--tl);margin-bottom:4px}
body.dark .history-date{color:#8a9d91}
.history-status{padding:5px 12px;border-radius:20px;font-size:11px;font-weight:600}
.history-status.verified{background:var(--mp);color:var(--g2)}
.history-status.hold{background:#fff3e0;color:#e6a23c}

/* Collaboration - Course Management */
.collab-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}
.add-course-btn{padding:12px 24px;background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff;border:none;border-radius:10px;font-family:'DM Sans',sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:var(--tr);display:flex;align-items:center;gap:8px}
.add-course-btn:hover{box-shadow:0 6px 20px rgba(26,92,58,.3);transform:translateY(-2px)}
.add-course-btn svg{width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:2}
.courses-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}
.course-item{background:var(--w);border-radius:16px;padding:24px;box-shadow:0 1px 4px var(--sh),0 4px 16px rgba(26,92,58,.05);transition:var(--tr)}
body.dark .course-item{background:rgba(30,46,35,.6)}
.course-item:hover{box-shadow:0 6px 24px var(--sh2);transform:translateY(-2px)}
.course-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}
.course-item-title{font-family:'Playfair Display',serif;font-size:18px;font-weight:600;color:var(--t);margin-bottom:4px}
body.dark .course-item-title{color:var(--mint)}
.course-item-status{padding:5px 12px;border-radius:20px;font-size:11px;font-weight:600}
.course-item-status.pending{background:#fff3e0;color:#e6a23c}
.course-item-status.approved{background:var(--mp);color:var(--g2)}
.course-item-status.rejected{background:#fde8e8;color:#d94f4f}
.course-item-details{margin-bottom:16px}
.course-item-detail{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--tl);margin-bottom:8px}
body.dark .course-item-detail{color:#8a9d91}
.course-item-detail svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2;flex-shrink:0}
.course-item-actions{display:flex;gap:8px}

/* Add Course Modal */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
.form-row.single{grid-template-columns:1fr}
.form-group{margin-bottom:0}
.form-group label{display:block;font-size:12.5px;font-weight:500;color:var(--t);margin-bottom:6px}
body.dark .form-group label{color:var(--mint)}
.form-group label .req{color:var(--red)}
.form-input{width:100%;padding:12px 14px;border:1.5px solid var(--b);border-radius:var(--rs);font-family:'DM Sans',sans-serif;font-size:13.5px;color:var(--t);background:#f8fbf9;transition:var(--tr);outline:none}
body.dark .form-input{background:rgba(30,46,35,.6);border-color:#3a4d42;color:var(--mint)}
.form-input:focus{border-color:var(--g2);background:#fff;box-shadow:0 0 0 3px rgba(45,122,80,.08)}
.form-input::placeholder{color:#a0b8aa}
textarea.form-input{min-height:100px;resize:vertical}
.file-upload{border:2px dashed var(--b);border-radius:12px;padding:30px;text-align:center;cursor:pointer;transition:var(--tr)}
.file-upload:hover{border-color:var(--g2);background:var(--mp)}
.file-upload svg{width:40px;height:40px;stroke:var(--tl);fill:none;stroke-width:1.5;margin-bottom:12px}
.file-upload p{font-size:13px;color:var(--tl)}
.file-upload span{font-size:11px;color:var(--b);display:block;margin-top:4px}
.uploaded-file{display:flex;align-items:center;gap:12px;padding:12px;background:var(--mp);border-radius:8px;margin-top:12px}
.uploaded-file svg{width:20px;height:20px;stroke:var(--g1);fill:none;stroke-width:2}
.uploaded-file span{flex:1;font-size:13px;color:var(--t)}
body.dark .uploaded-file span{color:var(--mint)}
.uploaded-file button{background:none;border:none;cursor:pointer;padding:4px}
.uploaded-file button svg{width:16px;height:16px;stroke:var(--red)}

/* Reports & Analytics */
.analytics-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:30px}
.analytics-card{background:var(--w);border-radius:16px;padding:24px;box-shadow:0 1px 4px var(--sh),0 4px 16px rgba(26,92,58,.05)}
body.dark .analytics-card{background:rgba(30,46,35,.6)}
.analytics-card h4{font-family:'Playfair Display',serif;font-size:16px;font-weight:600;color:var(--t);margin-bottom:16px}
body.dark .analytics-card h4{color:var(--mint)}
.analytics-value{font-size:36px;font-weight:700;color:var(--g1);font-family:'Playfair Display',serif}
body.dark .analytics-value{color:var(--mint)}
.analytics-label{font-size:13px;color:var(--tl);margin-top:4px}
body.dark .analytics-label{color:#8a9d91}
.course-accordion{background:var(--w);border-radius:12px;margin-bottom:12px;overflow:hidden;box-shadow:0 1px 3px var(--sh)}
body.dark .course-accordion{background:rgba(30,46,35,.6)}
.accordion-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;cursor:pointer;transition:var(--tr)}
.accordion-header:hover{background:var(--mp)}
body.dark .accordion-header:hover{background:rgba(184,230,204,.1)}
.accordion-title{display:flex;align-items:center;gap:12px}
.accordion-title h5{font-size:14px;font-weight:600;color:var(--t)}
body.dark .accordion-title h5{color:var(--mint)}
.accordion-title span{font-size:12px;color:var(--tl);padding:4px 10px;background:var(--mp);border-radius:12px}
body.dark .accordion-title span{background:rgba(184,230,204,.2);color:#8a9d91}
.accordion-arrow{width:20px;height:20px;stroke:var(--tl);fill:none;stroke-width:2;transition:transform .3s}
.accordion-header.open .accordion-arrow{transform:rotate(180deg)}
.accordion-content{display:none;padding:0 20px 20px}
.accordion-content.open{display:block}
.student-report-list{display:flex;flex-direction:column;gap:10px}
.student-report-item{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--mp);border-radius:8px}
body.dark .student-report-item{background:rgba(184,230,204,.1)}
.student-report-info{display:flex;align-items:center;gap:12px}
.student-report-avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--g2),var(--g3));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:11px}
.student-report-name{font-size:13px;font-weight:600;color:var(--t)}
body.dark .student-report-name{color:var(--mint)}
.student-report-score{font-size:14px;font-weight:700;color:var(--g1)}
body.dark .student-report-score{color:var(--mint)}

/* Success Modal */
.success-modal-content{text-align:center;padding:40px}
.success-icon{width:80px;height:80px;background:var(--mp);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px}
.success-icon svg{width:40px;height:40px;stroke:var(--g2);fill:none;stroke-width:2}
.success-title{font-family:'Playfair Display',serif;font-size:24px;font-weight:600;color:var(--t);margin-bottom:12px}
body.dark .success-title{color:var(--mint)}
.success-text{font-size:14px;color:var(--tl);line-height:1.6;margin-bottom:24px}
body.dark .success-text{color:#8a9d91}

@media(max-width:860px){.bp{display:none}.ac{max-width:500px}.fp{padding:32px 24px}.fl{display:flex}}
@media(max-width:1200px){.stats-grid{grid-template-columns:repeat(2,1fr)}.analytics-grid{grid-template-columns:1fr}}
@media(max-width:768px){:root{--sw:260px}.side{transform:translateX(-100%)}.side.open{transform:translateX(0);box-shadow:4px 0 20px rgba(0,0,0,.1)}.dm-main{margin-left:0}.mt{display:flex}.stats-grid{grid-template-columns:1fr}.filter-search{flex-wrap:wrap}.form-row{grid-template-columns:1fr}.detail-grid{grid-template-columns:1fr}}
@media(max-width:480px){.fp{padding:24px 18px}.tc{grid-template-columns:1fr;gap:0}.cr{flex-direction:column}.dc{padding:16px}.courses-list{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="toast" id="toast"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg><span id="toastMsg"></span></div>

<!-- AUTH -->
<div id="aw">
<div class="ac">
<div class="bp">
<div class="bl"><div class="li"><img src="https://iconape.com/wp-content/files/hz/20759/png/Qatar-Foundation-01.png" alt="QF Logo"></div><div class="blt"><span>Qatar Foundation</span><span>مؤسسة قطر</span></div></div>
<div class="bc"><h1>Verifier Portal</h1><p>Verify student documents and manage submissions for the Universal Skills Passport program.</p></div>
</div>
<div class="fp">
<!-- LOGIN -->
<div class="fpg active" id="loginPage">
<div class="fl"><img src="https://iconape.com/wp-content/files/hz/20759/png/Qatar-Foundation-01.png" alt="QF"><span>Qatar Foundation</span></div>
<div class="fh"><div class="badge"><svg viewBox="0 0 24 24"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>Verifier Portal</div><h2>Welcome Back</h2><p>Sign in to access the verification dashboard</p></div>
<button class="gsso" onclick="st('Google Sign-In coming soon!')"><svg width="20" height="20" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>Sign in with Google</button>
<div class="div">OR</div>
<form id="loginForm" novalidate>
<div class="fg"><label>Email <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 7l-10 6L2 7"/></svg><input type="email" id="lu" placeholder="verifier@qf.org.qa" autocomplete="username"></div><div class="em" id="lue"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span></span></div></div>
<div class="fg"><label>Password <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg><input type="password" id="lp" placeholder="Enter your password" autocomplete="current-password"><button type="button" class="tp" onclick="tgp('lp',this)"><svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button></div><div class="em" id="lpe"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span></span></div></div>
<div class="fg"><label>Captcha <span class="req">*</span></label><div class="cr"><div class="cd"><span class="ct" id="lct"></span><button type="button" class="crf" onclick="gc('l')"><svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg></button></div><div class="fg" style="margin-bottom:0"><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 12l2 2 4-4"/></svg><input type="text" id="lci" placeholder="Enter captcha" autocomplete="off"></div></div></div><div class="em" id="lce"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span></span></div></div>
<div class="fo"><label class="rm"><input type="checkbox"><span class="ck"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span><span>Remember me</span></label><button type="button" class="lb" onclick="sp('forgotPage')">Forgot password?</button></div>
<button type="submit" class="bp-btn">Sign In</button>
</form>
<div class="ff">Don't have an account? <button type="button" class="lb" onclick="sp('signupPage')">Create Account</button></div>
</div>

<!-- SIGNUP -->
<div class="fpg" id="signupPage">
<button type="button" class="btl" onclick="sp('loginPage')"><svg viewBox="0 0 24 24"><path d="M19 12H5"/><polyline points="12 19 5 12 12 5"/></svg>Back to Login</button>
<div class="fl"><img src="https://iconape.com/wp-content/files/hz/20759/png/Qatar-Foundation-01.png" alt="QF"><span>Qatar Foundation</span></div>
<div class="fh"><div class="badge"><svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>New Verifier</div><h2>Create Account</h2><p>Register as a document verifier</p></div>
<button class="gsso" onclick="st('Google Sign-Up coming soon!')"><svg width="20" height="20" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>Sign up with Google</button>
<div class="div">OR</div>
<form id="signupForm" novalidate>
<div class="tc">
<div class="fg"><label>First Name <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M20 21a8 8 0 0 0-16 0"/></svg><input type="text" id="sf" placeholder="First name"></div><div class="em" id="sfe"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter first name</span></div></div>
<div class="fg"><label>Last Name <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M20 21a8 8 0 0 0-16 0"/></svg><input type="text" id="sla" placeholder="Last name"></div><div class="em" id="slae"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter last name</span></div></div>
</div>
<div class="fg"><label>Email <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 7l-10 6L2 7"/></svg><input type="email" id="se" placeholder="verifier@qf.org.qa"></div><div class="em" id="see"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter a valid email</span></div></div>
<div class="fg"><label>Phone Number <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg><input type="tel" id="sph" placeholder="+974 XXXX XXXX"></div><div class="em" id="sphe"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter phone number</span></div></div>
<div class="fg"><label>Verifier ID <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="18" rx="2"/><line x1="2" y1="9" x2="22" y2="9"/></svg><input type="text" id="sid" placeholder="e.g., VER-2026-001"></div><div class="em" id="side"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter Verifier ID</span></div></div>
<div class="fg"><label>Password <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg><input type="password" id="spw" placeholder="Min 8 characters" oninput="cs(this.value)"><button type="button" class="tp" onclick="tgp('spw',this)"><svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button></div><div class="ps"><div class="sb" id="s1"></div><div class="sb" id="s2"></div><div class="sb" id="s3"></div><div class="sb" id="s4"></div></div><div class="sl" id="slb"></div><div class="em" id="spwe"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Min 8 characters required</span></div></div>
<div class="fg"><label>Captcha <span class="req">*</span></label><div class="cr"><div class="cd"><span class="ct" id="sct"></span><button type="button" class="crf" onclick="gc('s')"><svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg></button></div><div class="fg" style="margin-bottom:0"><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 12l2 2 4-4"/></svg><input type="text" id="sci" placeholder="Enter captcha" autocomplete="off"></div></div></div><div class="em" id="sce"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Captcha does not match</span></div></div>
<button type="submit" class="bp-btn" style="margin-top:4px">Create Account</button>
</form>
<div class="ff">Already have an account? <button type="button" class="lb" onclick="sp('loginPage')">Sign In</button></div>
</div>

<!-- FORGOT -->
<div class="fpg" id="forgotPage">
<button type="button" class="btl" onclick="sp('loginPage')"><svg viewBox="0 0 24 24"><path d="M19 12H5"/><polyline points="12 19 5 12 12 5"/></svg>Back to Login</button>
<div class="fl"><img src="https://iconape.com/wp-content/files/hz/20759/png/Qatar-Foundation-01.png" alt="QF"><span>Qatar Foundation</span></div>
<div class="fh"><div class="badge"><svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>Account Recovery</div><h2>Reset Password</h2><p>Enter your email and we'll send you an OTP</p></div>
<form id="forgotForm" novalidate>
<div class="fg"><label>Email Address <span class="req">*</span></label><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 7l-10 6L2 7"/></svg><input type="email" id="fe" placeholder="verifier@qf.org.qa"></div><div class="em" id="fee"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Please enter a valid email</span></div></div>
<div class="fg"><label>Captcha <span class="req">*</span></label><div class="cr"><div class="cd"><span class="ct" id="fct"></span><button type="button" class="crf" onclick="gc('f')"><svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg></button></div><div class="fg" style="margin-bottom:0"><div class="iw"><svg class="ii" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 12l2 2 4-4"/></svg><input type="text" id="fci" placeholder="Enter captcha" autocomplete="off"></div></div></div><div class="em" id="fce"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg><span>Captcha does not match</span></div></div>
<button type="submit" class="bp-btn">Send Reset Link</button>
</form>
<div class="ff">Remembered your password? <button type="button" class="lb" onclick="sp('loginPage')">Sign In</button></div>
</div>
</div>
</div>
</div>

<!-- DASHBOARD -->
<div id="dw">
<nav class="side" id="side">
<div class="side-h"><div class="side-logo"><img src="https://iconape.com/wp-content/files/hz/20759/png/Qatar-Foundation-01.png" alt="QF"><div class="side-lt"><span>Qatar Foundation</span><span>مؤسسة قطر</span></div></div></div>
<div class="side-prof"><div class="pav" id="da">VR</div><div class="pi"><div class="pn" id="dn">Verifier</div><div class="pr">Document Verifier</div></div><button class="pe"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button></div>
<div class="side-nav">
<div class="nlbl">Main Menu</div>
<button class="ni active" data-view="dashboard"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>Dashboard<svg class="nc" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
<button class="ni" data-view="taskqueue"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/></svg>Task Queue<svg class="nc" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
<button class="ni" data-view="taskhistory"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>Task History<svg class="nc" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
<button class="ni" data-view="collaboration"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>Collaboration<svg class="nc" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
<button class="ni" data-view="analytics"><svg viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>Reports and Analytics<svg class="nc" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
</div>
<div class="side-ft"><button class="ni lo" onclick="logout()"><svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>Sign Out</button></div>
</nav>

<main class="dm-main">
<header class="tb">
<div class="tb-l"><button class="mt" id="mt" onclick="document.getElementById('side').classList.toggle('open')"><svg viewBox="0 0 24 24"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><h2 id="pageTitle">Dashboard</h2></div>
<div class="tb-a">
<button class="tbb" onclick="toggleDarkMode()"><svg id="themeIcon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg></button>
</div>
</header>

<div class="dc">
<!-- DASHBOARD VIEW -->
<div class="dv active" id="dashboardView">
<div class="stats-grid">
<div class="stat-card">
<div class="stat-icon blue"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
<div class="stat-value">1,247</div>
<div class="stat-label">Total Students Enrolled</div>
</div>
<div class="stat-card">
<div class="stat-icon green"><svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
<div class="stat-value">856</div>
<div class="stat-label">Students Certified</div>
</div>
<div class="stat-card">
<div class="stat-icon orange"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="18" rx="2"/><path d="M16 2v4M8 2v4M2 9h20"/></svg></div>
<div class="stat-value">12</div>
<div class="stat-label">Active Courses</div>
</div>
<div class="stat-card">
<div class="stat-icon red"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
<div class="stat-value">48</div>
<div class="stat-label">Pending Verifications</div>
</div>
</div>

<!-- Fluctuating Line Chart -->
<div class="chart-container">
<div class="chart-header">
<h3 class="chart-title">Student Enrollment Trends</h3>
<div class="chart-tabs">
<button class="chart-tab" onclick="changeChartView('weekly')">Weekly</button>
<button class="chart-tab active" onclick="changeChartView('monthly')">Monthly</button>
<button class="chart-tab" onclick="changeChartView('yearly')">Yearly</button>
</div>
</div>
<div class="line-chart-container" id="lineChartContainer">
<div class="chart-tooltip" id="chartTooltip"></div>
<svg class="line-chart-svg" id="lineChart"></svg>
</div>
</div>

<div class="chart-container">
<h3 class="chart-title">Course Distribution</h3>
<div class="course-grid">
<div class="course-card"><div class="course-name">Machine Learning</div><div class="course-count">245</div></div>
<div class="course-card"><div class="course-name">Web Development</div><div class="course-count">198</div></div>
<div class="course-card"><div class="course-name">Data Science</div><div class="course-count">167</div></div>
<div class="course-card"><div class="course-name">Cloud Computing</div><div class="course-count">142</div></div>
<div class="course-card"><div class="course-name">Cybersecurity</div><div class="course-count">128</div></div>
<div class="course-card"><div class="course-name">UI/UX Design</div><div class="course-count">115</div></div>
<div class="course-card"><div class="course-name">Digital Marketing</div><div class="course-count">98</div></div>
<div class="course-card"><div class="course-name">Blockchain</div><div class="course-count">87</div></div>
</div>
</div>
</div>

<!-- TASK QUEUE VIEW -->
<div class="dv" id="taskqueueView">
<div class="task-tabs">
<button class="tab-btn active" data-tab="new" onclick="switchTab('new')">New Uploads</button>
<button class="tab-btn" data-tab="verified" onclick="switchTab('verified')">Verified</button>
<button class="tab-btn" data-tab="hold" onclick="switchTab('hold')">On Hold</button>
</div>
<div class="filter-search">
<button class="filter-btn"><svg viewBox="0 0 24 24"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>Filter</button>
<div class="search-wrapper">
<svg class="search-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
<input type="text" class="search-input" placeholder="Search task by ..." id="taskSearch" oninput="filterTasks()">
</div>
<button class="apply-btn" onclick="applyFilters()">Apply</button>
</div>
<div class="task-list" id="taskList"></div>
</div>

<!-- TASK HISTORY VIEW -->
<div class="dv" id="taskhistoryView">
<h3 style="font-family:'Playfair Display',serif;font-size:22px;font-weight:600;color:var(--t);margin-bottom:20px">Task History</h3>
<p style="color:var(--tl);margin-bottom:20px">View all completed verification tasks and their outcomes.</p>
<div class="history-list" id="historyList"></div>
</div>

<!-- COLLABORATION VIEW -->
<div class="dv" id="collaborationView">
<div class="collab-header">
<div>
<h3 style="font-family:'Playfair Display',serif;font-size:22px;font-weight:600;color:var(--t);margin-bottom:8px">Course Management</h3>
<p style="color:var(--tl)">Create and manage courses for student enrollment.</p>
</div>
<button class="add-course-btn" onclick="openAddCourseModal()">
<svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
Add Course
</button>
</div>
<div class="courses-list" id="coursesList"></div>
</div>

<!-- ANALYTICS VIEW -->
<div class="dv" id="analyticsView">
<h3 style="font-family:'Playfair Display',serif;font-size:22px;font-weight:600;color:var(--t);margin-bottom:20px">Reports and Analytics</h3>
<div class="analytics-grid">
<div class="analytics-card">
<h4>Total Completions</h4>
<div class="analytics-value">856</div>
<div class="analytics-label">Students completed courses</div>
</div>
<div class="analytics-card">
<h4>Average Score</h4>
<div class="analytics-value">87%</div>
<div class="analytics-label">Across all courses</div>
</div>
<div class="analytics-card">
<h4>Verification Rate</h4>
<div class="analytics-value">94%</div>
<div class="analytics-label">Documents verified</div>
</div>
</div>
<h4 style="font-size:16px;font-weight:600;color:var(--t);margin-bottom:16px">Course-wise Reports</h4>
<div id="analyticsAccordion"></div>
</div>
</div>
</main>
</div>

<!-- VIEW DETAILS MODAL -->
<div class="modal" id="detailsModal">
<div class="mcon">
<div class="mh">
<h3>Student Details</h3>
<button class="mcb" onclick="closeDetailsModal()"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
</div>
<div class="mb" id="detailsContent"></div>
<div class="mf">
<button class="close-btn" onclick="closeDetailsModal()">Close</button>
<button class="hold-btn" onclick="openHoldModal()">Put on Hold</button>
<button class="verify-btn" onclick="verifySubmission()">Verify</button>
</div>
</div>
</div>

<!-- HOLD REASON MODAL -->
<div class="modal" id="holdModal">
<div class="mcon">
<div class="mh">
<h3>Put on Hold</h3>
<button class="mcb" onclick="closeHoldModal()"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
</div>
<div class="mb">
<p style="margin-bottom:16px;font-size:13px;color:var(--tl)">Please provide a reason for putting this submission on hold:</p>
<textarea class="hold-reason-input" id="holdReason" placeholder="Enter the reason..."></textarea>
</div>
<div class="mf">
<button class="close-btn" onclick="closeHoldModal()">Cancel</button>
<button class="verify-btn" onclick="submitHold()">Submit</button>
</div>
</div>
</div>

<!-- ADD COURSE MODAL -->
<div class="modal" id="addCourseModal">
<div class="mcon">
<div class="mh">
<h3>Add New Course</h3>
<button class="mcb" onclick="closeAddCourseModal()"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
</div>
<div class="mb">
<div class="form-row">
<div class="form-group">
<label>Course Title <span class="req">*</span></label>
<input type="text" class="form-input" id="courseTitle" placeholder="e.g., Introduction to Machine Learning">
</div>
<div class="form-group">
<label>Instructor Name <span class="req">*</span></label>
<input type="text" class="form-input" id="courseInstructor" placeholder="e.g., Dr. John Smith">
</div>
</div>
<div class="form-row single">
<div class="form-group">
<label>Course Description <span class="req">*</span></label>
<textarea class="form-input" id="courseDesc" placeholder="Describe what this course covers..."></textarea>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label>Duration <span class="req">*</span></label>
<input type="text" class="form-input" id="courseDuration" placeholder="e.g., 8 weeks">
</div>
<div class="form-group">
<label>Max Students</label>
<input type="number" class="form-input" id="courseMaxStudents" placeholder="e.g., 50">
</div>
</div>
<div class="form-row">
<div class="form-group">
<label>Start Date <span class="req">*</span></label>
<input type="date" class="form-input" id="courseStartDate">
</div>
<div class="form-group">
<label>End Date <span class="req">*</span></label>
<input type="date" class="form-input" id="courseEndDate">
</div>
</div>
<div class="form-row single">
<div class="form-group">
<label>Competencies/Skills Covered <span class="req">*</span></label>
<input type="text" class="form-input" id="courseCompetencies" placeholder="e.g., Python, Neural Networks, Data Analysis">
</div>
</div>
<div class="form-row single">
<div class="form-group">
<label>Course Document/Syllabus</label>
<div class="file-upload" onclick="document.getElementById('courseFile').click()">
<svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
<p>Click to upload or drag and drop</p>
<span>PDF, DOC up to 10MB</span>
</div>
<input type="file" id="courseFile" style="display:none" accept=".pdf,.doc,.docx" onchange="handleFileUpload(this)">
<div id="uploadedFileInfo"></div>
</div>
</div>
</div>
<div class="mf">
<button class="close-btn" onclick="closeAddCourseModal()">Cancel</button>
<button class="verify-btn" onclick="submitCourseToAdmin()">Submit to Admin</button>
</div>
</div>
</div>

<!-- SUCCESS MODAL -->
<div class="modal" id="successModal">
<div class="mcon" style="max-width:500px">
<div class="success-modal-content">
<div class="success-icon">
<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
</div>
<h3 class="success-title">Course Submitted Successfully!</h3>
<p class="success-text">Your course has been sent to the admin for review. Once approved, students will be informed and can enroll in this course.</p>
<button class="verify-btn" onclick="closeSuccessModal()" style="margin:0 auto">Got it!</button>
</div>
</div>
</div>

<script>
const cp={l:'',s:'',f:''};
function gc(t){const c='ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789';let r='';for(let i=0;i<5;i++)r+=c[Math.floor(Math.random()*c.length)];cp[t]=r;const m={l:'lct',s:'sct',f:'fct'};document.getElementById(m[t]).textContent=r}
gc('l');gc('s');gc('f');

// Fluctuating Chart Data
const chartData={
weekly:{labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],values:[45,78,52,91,67,34,88]},
monthly:{labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[120,85,145,78,167,92,134,189,76,156,98,178]},
yearly:{labels:['2020','2021','2022','2023','2024','2025','2026'],values:[520,758,642,895,1091,876,1247]}
};

let currentChartView='monthly';

function renderLineChart(view){
const data=chartData[view];
const svg=document.getElementById('lineChart');
const container=document.getElementById('lineChartContainer');
const tooltip=document.getElementById('chartTooltip');
const width=container.offsetWidth;
const height=280;
const padding={top:30,right:30,bottom:40,left:50};
const chartWidth=width-padding.left-padding.right;
const chartHeight=height-padding.top-padding.bottom;
const maxValue=Math.max(...data.values)*1.1;
const minValue=Math.min(...data.values)*0.9;
const range=maxValue-minValue;
svg.setAttribute('viewBox',`0 0 ${width} ${height}`);
svg.innerHTML=`<defs><linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#2d7a50;stop-opacity:0.4"/><stop offset="100%" style="stop-color:#2d7a50;stop-opacity:0.05"/></linearGradient></defs>`;
// Grid lines
for(let i=0;i<=5;i++){
const y=padding.top+chartHeight-chartHeight*i/5;
const val=Math.round(minValue+range*i/5);
svg.innerHTML+=`<line x1="${padding.left}" y1="${y}" x2="${width-padding.right}" y2="${y}" class="chart-grid-line"/>`;
svg.innerHTML+=`<text x="${padding.left-10}" y="${y+4}" class="chart-y-label">${val}</text>`;
}
// Calculate points
const points=data.values.map((val,i)=>{
const x=padding.left+chartWidth*i/(data.values.length-1);
const y=padding.top+chartHeight-(val-minValue)/range*chartHeight;
return{x,y,val,label:data.labels[i]};
});
// Area path
let areaPath=`M${points[0].x},${padding.top+chartHeight}`;
points.forEach((p,i)=>{
if(i===0)areaPath+=`L${p.x},${p.y}`;
else{
const prev=points[i-1];
const cpx1=prev.x+(p.x-prev.x)/3;
const cpx2=prev.x+2*(p.x-prev.x)/3;
areaPath+=`C${cpx1},${prev.y} ${cpx2},${p.y} ${p.x},${p.y}`;
}
});
areaPath+=`L${points[points.length-1].x},${padding.top+chartHeight}Z`;
svg.innerHTML+=`<path d="${areaPath}" class="chart-area"/>`;
// Line path
let linePath=`M${points[0].x},${points[0].y}`;
points.forEach((p,i)=>{
if(i>0){
const prev=points[i-1];
const cpx1=prev.x+(p.x-prev.x)/3;
const cpx2=prev.x+2*(p.x-prev.x)/3;
linePath+=`C${cpx1},${prev.y} ${cpx2},${p.y} ${p.x},${p.y}`;
}
});
svg.innerHTML+=`<path d="${linePath}" class="chart-line"/>`;
// Dots and labels
points.forEach((p,i)=>{
svg.innerHTML+=`<circle cx="${p.x}" cy="${p.y}" r="5" class="chart-dot" data-val="${p.val}" data-label="${p.label}"/>`;
svg.innerHTML+=`<text x="${p.x}" y="${height-10}" class="chart-label">${p.label}</text>`;
});
// Tooltip events
setTimeout(()=>{
document.querySelectorAll('.chart-dot').forEach(dot=>{
dot.addEventListener('mouseenter',function(e){
const val=this.getAttribute('data-val');
const label=this.getAttribute('data-label');
tooltip.textContent=`${label}: ${val} students`;
tooltip.style.left=(parseFloat(this.getAttribute('cx'))-50)+'px';
tooltip.style.top=(parseFloat(this.getAttribute('cy'))-45)+'px';
tooltip.style.opacity='1';
});
dot.addEventListener('mouseleave',function(){
tooltip.style.opacity='0';
});
});
},100);
}

function changeChartView(view){
currentChartView=view;
document.querySelectorAll('.chart-tab').forEach(tab=>{
tab.classList.remove('active');
if(tab.textContent.toLowerCase()===view)tab.classList.add('active');
});
renderLineChart(view);
}

// Task Data with more details
const tasksData={
new:[
{id:1,name:'Sophia Grace',email:'sophia.grace@cmu.edu',studentId:'STU-2024-0892',university:'Carnegie Mellon University',opportunity:'Introduction to Machine Learning',competency:'Machine Learning Basics, Python, TensorFlow',date:'2-06-25',doc:'Certificate of Completion',status:'applied',gpa:'3.8',previousCourses:[{name:'Data Structures',grade:'A',year:'2024'},{name:'Linear Algebra',grade:'A-',year:'2024'},{name:'Statistics',grade:'B+',year:'2023'}],documents:[{name:'ML_Certificate.pdf',size:'2.4 MB'},{name:'Course_Transcript.pdf',size:'1.1 MB'},{name:'Project_Report.pdf',size:'3.8 MB'},{name:'Recommendation_Letter.pdf',size:'0.5 MB'}]},
{id:2,name:'Sophia Grace',email:'sophia.grace@georgetown.edu',studentId:'STU-2024-0893',university:'Georgetown University',opportunity:'Computer Security and Hacking',competency:'Cybersecurity Fundamentals, Ethical Hacking',date:'27-05-25',doc:'Certificate of Participation',status:'applied',gpa:'3.6',previousCourses:[{name:'Network Fundamentals',grade:'A',year:'2024'},{name:'Operating Systems',grade:'B+',year:'2023'}],documents:[{name:'Security_Certificate.pdf',size:'1.8 MB'},{name:'Lab_Reports.pdf',size:'4.2 MB'}]},
{id:3,name:'Ahmed Al-Mansouri',email:'ahmed.mansouri@northwestern.edu',studentId:'STU-2024-0756',university:'Northwestern University',opportunity:'Mathematics with Machine Learning',competency:'Calculus, Linear Algebra, Statistical Learning',date:'3-06-25',doc:'Certificate of Completion',status:'applied',gpa:'3.9',previousCourses:[{name:'Calculus III',grade:'A',year:'2024'},{name:'Discrete Mathematics',grade:'A',year:'2024'},{name:'Probability Theory',grade:'A-',year:'2023'}],documents:[{name:'Math_Certificate.pdf',size:'1.5 MB'},{name:'Final_Project.pdf',size:'2.8 MB'}]},
{id:4,name:'Fatima Al-Kuwari',email:'fatima.kuwari@tamu.edu',studentId:'STU-2021-0234',university:'Texas A&M University',opportunity:'Introduction to Computer Proficiency',competency:'Arabic, Computer Fundamentals, Office Tools',date:'10-09-21',doc:'Certificate of Completion',status:'applied',gpa:'3.5',previousCourses:[{name:'Computer Basics',grade:'A',year:'2021'},{name:'Technical Writing',grade:'B+',year:'2021'}],documents:[{name:'Computer_Certificate.pdf',size:'1.2 MB'},{name:'Assignment_Portfolio.pdf',size:'5.1 MB'}]}
],
verified:[
{id:5,name:'Ahmed Al-Thani',email:'ahmed.thani@qu.edu.qa',studentId:'STU-2025-0112',university:'Qatar University',opportunity:'Machine Learning Workshop',competency:'ML Models, Python, Scikit-learn',date:'10-02-26',doc:'Certificate',status:'verified',gpa:'3.7',verifiedDate:'12-02-26',previousCourses:[{name:'Python Programming',grade:'A',year:'2025'}],documents:[{name:'ML_Workshop_Certificate.pdf',size:'1.6 MB'}]},
{id:6,name:'Fatima Hassan',email:'fatima.hassan@hbku.edu.qa',studentId:'STU-2025-0098',university:'HBKU',opportunity:'Data Science Bootcamp',competency:'Data Analysis, Pandas, Visualization',date:'8-02-26',doc:'Achievement',status:'verified',gpa:'3.85',verifiedDate:'11-02-26',previousCourses:[{name:'Statistics 101',grade:'A',year:'2025'},{name:'Excel Advanced',grade:'A-',year:'2024'}],documents:[{name:'DataScience_Certificate.pdf',size:'2.1 MB'},{name:'Capstone_Project.pdf',size:'6.3 MB'}]}
],
hold:[
{id:7,name:'Omar Rashid',email:'omar.rashid@cmuq.edu.qa',studentId:'STU-2025-0145',university:'CMU-Q',opportunity:'Cybersecurity Basics',competency:'Network Security, Firewall Management',date:'5-02-26',doc:'Certificate',status:'hold',gpa:'3.4',reason:'Missing signature from instructor. Please provide a signed certificate.',previousCourses:[{name:'Networking 101',grade:'B+',year:'2025'}],documents:[{name:'Cyber_Certificate.pdf',size:'1.4 MB'}]}
]
};

// Course Data
let coursesData=[
{id:1,title:'Advanced Machine Learning',instructor:'Dr. Sarah Johnson',description:'Deep dive into neural networks, deep learning architectures, and advanced ML techniques.',duration:'12 weeks',startDate:'2026-03-01',endDate:'2026-05-24',competencies:'Deep Learning, CNNs, RNNs, Transformers',status:'approved',maxStudents:40},
{id:2,title:'Cloud Architecture Fundamentals',instructor:'Prof. Michael Chen',description:'Learn cloud computing principles, AWS/Azure services, and infrastructure design.',duration:'8 weeks',startDate:'2026-03-15',endDate:'2026-05-10',competencies:'AWS, Azure, Cloud Security, DevOps',status:'pending',maxStudents:35},
{id:3,title:'Blockchain Development',instructor:'Dr. Ahmed Hassan',description:'Comprehensive course on blockchain technology, smart contracts, and DApps.',duration:'10 weeks',startDate:'2026-04-01',endDate:'2026-06-10',competencies:'Solidity, Ethereum, Smart Contracts',status:'pending',maxStudents:30}
];

// Task History Data
const historyData=[
{id:101,name:'Mohammed Al-Farsi',university:'Qatar University',course:'Introduction to AI',verifiedDate:'12-02-26',status:'verified'},
{id:102,name:'Aisha Rahman',university:'HBKU',course:'Data Analytics',verifiedDate:'11-02-26',status:'verified'},
{id:103,name:'Yusuf Al-Hashmi',university:'CMU-Q',course:'Web Development',verifiedDate:'10-02-26',status:'verified'},
{id:104,name:'Mariam Khalid',university:'Georgetown-Q',course:'Cybersecurity Fundamentals',verifiedDate:'09-02-26',status:'hold'},
{id:105,name:'Hassan Al-Thawadi',university:'Northwestern-Q',course:'Machine Learning Basics',verifiedDate:'08-02-26',status:'verified'},
{id:106,name:'Noura Al-Attiyah',university:'Texas A&M-Q',course:'Cloud Computing',verifiedDate:'07-02-26',status:'verified'},
{id:107,name:'Khalid Mansouri',university:'Qatar University',course:'Python Programming',verifiedDate:'06-02-26',status:'verified'},
{id:108,name:'Sara Al-Jaber',university:'HBKU',course:'UI/UX Design',verifiedDate:'05-02-26',status:'hold'}
];

// Analytics Data
const analyticsData=[
{course:'Machine Learning',students:[{name:'Ahmed Al-Thani',score:92},{name:'Fatima Hassan',score:88},{name:'Omar Rashid',score:85},{name:'Mariam Khalid',score:91},{name:'Yusuf Al-Hashmi',score:87}]},
{course:'Data Science',students:[{name:'Aisha Rahman',score:94},{name:'Hassan Al-Thawadi',score:89},{name:'Noura Al-Attiyah',score:91},{name:'Khalid Mansouri',score:86}]},
{course:'Web Development',students:[{name:'Sara Al-Jaber',score:88},{name:'Mohammed Al-Farsi',score:92},{name:'Sophia Grace',score:95}]},
{course:'Cybersecurity',students:[{name:'Ahmed Al-Mansouri',score:90},{name:'Fatima Al-Kuwari',score:87},{name:'Omar Rashid',score:84}]},
{course:'Cloud Computing',students:[{name:'Hassan Al-Thawadi',score:91},{name:'Noura Al-Attiyah',score:93},{name:'Khalid Mansouri',score:88},{name:'Ahmed Al-Thani',score:86}]}
];

let currentTab='new';
let currentTaskId=null;
let uploadedFileName=null;

function renderTasks(){
const list=document.getElementById('taskList');
if(!list)return;
const tasks=tasksData[currentTab]||[];
list.innerHTML='';
tasks.forEach(task=>{
const item=document.createElement('div');
item.className='task-item';
const statusClass=task.status==='applied'?'applied':task.status==='verified'?'verified':'hold';
item.innerHTML=`
<div class="task-header">
<div class="task-student">
<div class="student-avatar">${task.name.split(' ').map(n=>n[0]).join('')}</div>
<div class="student-info">
<h4>${task.name}</h4>
<p>${task.university}</p>
</div>
</div>
<span class="task-badge ${statusClass}">${task.status.charAt(0).toUpperCase()+task.status.slice(1)}</span>
</div>
<div class="task-details">
<div class="task-detail-row"><strong>Opportunity:</strong> ${task.opportunity}</div>
<div class="task-detail-row"><strong>Competency:</strong> ${task.competency}</div>
<div class="task-detail-row"><strong>Date:</strong> ${task.date}</div>
${task.reason?`<div class="task-detail-row" style="color:var(--red)"><strong>Reason:</strong> ${task.reason}</div>`:''}
</div>
<div class="task-actions">
<button class="action-btn" onclick="viewDetails(${task.id})">
<svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
View Details
</button>
${currentTab==='new'?`<button class="action-btn warning" onclick="openHoldModalDirect(${task.id})">
<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="10" y1="15" x2="10" y2="9"/><line x1="14" y1="15" x2="14" y2="9"/></svg>
Put on Hold
</button>`:''}
</div>
`;
list.appendChild(item);
});
if(tasks.length===0){
list.innerHTML='<div style="text-align:center;padding:40px;color:var(--tl)">No tasks found</div>';
}
}

function viewDetails(taskId){
currentTaskId=taskId;
let task=null;
for(let tab in tasksData){
task=tasksData[tab].find(t=>t.id===taskId);
if(task)break;
}
if(!task)return;
const content=document.getElementById('detailsContent');
content.innerHTML=`
<div class="detail-section">
<h4><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>Student Information</h4>
<div class="detail-grid">
<div class="detail-item"><label>Full Name</label><span>${task.name}</span></div>
<div class="detail-item"><label>Student ID</label><span>${task.studentId}</span></div>
<div class="detail-item"><label>Email</label><span>${task.email}</span></div>
<div class="detail-item"><label>GPA</label><span>${task.gpa}</span></div>
<div class="detail-item"><label>University</label><span>${task.university}</span></div>
<div class="detail-item"><label>Submission Date</label><span>${task.date}</span></div>
</div>
</div>
<div class="detail-section">
<h4><svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>Course Details</h4>
<div class="detail-grid">
<div class="detail-item"><label>Opportunity</label><span>${task.opportunity}</span></div>
<div class="detail-item"><label>Document Type</label><span>${task.doc}</span></div>
<div class="detail-item" style="grid-column:1/-1"><label>Competencies</label><span>${task.competency}</span></div>
</div>
</div>
<div class="detail-section">
<h4><svg viewBox="0 0 24 24"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>Previous Education</h4>
<table class="prev-courses-table">
<thead><tr><th>Course Name</th><th>Grade</th><th>Year</th></tr></thead>
<tbody>
${task.previousCourses.map(c=>`<tr><td>${c.name}</td><td><span class="grade-badge ${c.grade.startsWith('A')?'a':c.grade.startsWith('B')?'b':'c'}">${c.grade}</span></td><td>${c.year}</td></tr>`).join('')}
</tbody>
</table>
</div>
<div class="detail-section">
<h4><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>Submitted Documents</h4>
<div class="doc-list">
${task.documents.map(doc=>`
<div class="doc-item">
<div class="doc-info">
<div class="doc-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
<div class="doc-details"><h5>${doc.name}</h5><p>${doc.size}</p></div>
</div>
<button class="doc-download" onclick="downloadDoc('${doc.name}')"><svg viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></button>
</div>
`).join('')}
</div>
</div>
${task.reason?`<div class="detail-section">
<h4 style="color:var(--red)"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>Hold Reason</h4>
<p style="color:var(--red);padding:12px;background:#fde8e8;border-radius:8px">${task.reason}</p>
</div>`:''}
`;
document.getElementById('detailsModal').classList.add('show');
}

function downloadDoc(filename){
st(`Downloading ${filename}...`);
// Simulate download
setTimeout(()=>{
const link=document.createElement('a');
link.href__='#';
link.download=filename;
st(`${filename} downloaded successfully!`);
},1000);
}

function closeDetailsModal(){
document.getElementById('detailsModal').classList.remove('show');
currentTaskId=null;
}

function openHoldModal(){
document.getElementById('detailsModal').classList.remove('show');
document.getElementById('holdModal').classList.add('show');
}

function openHoldModalDirect(taskId){
currentTaskId=taskId;
document.getElementById('holdModal').classList.add('show');
}

function closeHoldModal(){
document.getElementById('holdModal').classList.remove('show');
document.getElementById('holdReason').value='';
}

function submitHold(){
const reason=document.getElementById('holdReason').value.trim();
if(!reason){
st('Please enter a reason for putting on hold');
return;
}
let task=null;
for(let tab in tasksData){
const index=tasksData[tab].findIndex(t=>t.id===currentTaskId);
if(index!==-1){
task=tasksData[tab].splice(index,1)[0];
break;
}
}
if(task){
task.status='hold';
task.reason=reason;
tasksData.hold.push(task);
st('Submission moved to On Hold');
renderTasks();
closeHoldModal();
currentTaskId=null;
}
}

function verifySubmission(){
let task=null;
for(let tab in tasksData){
const index=tasksData[tab].findIndex(t=>t.id===currentTaskId);
if(index!==-1){
task=tasksData[tab].splice(index,1)[0];
break;
}
}
if(task){
task.status='verified';
task.verifiedDate=new Date().toLocaleDateString('en-GB').replace(/\//g,'-');
delete task.reason;
tasksData.verified.push(task);
st('Submission verified successfully!');
renderTasks();
closeDetailsModal();
currentTaskId=null;
}
}

function switchTab(tab){
currentTab=tab;
document.querySelectorAll('.tab-btn').forEach(btn=>{
btn.classList.remove('active');
if(btn.getAttribute('data-tab')===tab)btn.classList.add('active');
});
renderTasks();
}

function filterTasks(){
const query=document.getElementById('taskSearch').value.toLowerCase();
const items=document.querySelectorAll('.task-item');
items.forEach(item=>{
const text=item.textContent.toLowerCase();
item.style.display=text.includes(query)?'block':'none';
});
}

function applyFilters(){
st('Filters applied');
}

// Task History
function renderHistory(){
const list=document.getElementById('historyList');
if(!list)return;
list.innerHTML='';
historyData.forEach(item=>{
const div=document.createElement('div');
div.className='history-item';
div.innerHTML=`
<div class="history-left">
<div class="history-avatar">${item.name.split(' ').map(n=>n[0]).join('')}</div>
<div class="history-info">
<h4>${item.name}</h4>
<p>${item.university} • ${item.course}</p>
</div>
</div>
<div class="history-right">
<div class="history-date">${item.verifiedDate}</div>
<span class="history-status ${item.status}">${item.status.charAt(0).toUpperCase()+item.status.slice(1)}</span>
</div>
`;
list.appendChild(div);
});
}

// Collaboration - Courses
function renderCourses(){
const list=document.getElementById('coursesList');
if(!list)return;
list.innerHTML='';
coursesData.forEach(course=>{
const div=document.createElement('div');
div.className='course-item';
div.innerHTML=`
<div class="course-item-header">
<div>
<h4 class="course-item-title">${course.title}</h4>
<p style="font-size:12px;color:var(--tl)">${course.instructor}</p>
</div>
<span class="course-item-status ${course.status}">${course.status.charAt(0).toUpperCase()+course.status.slice(1)}</span>
</div>
<p style="font-size:13px;color:var(--tl);margin-bottom:16px;line-height:1.5">${course.description}</p>
<div class="course-item-details">
<div class="course-item-detail"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>${course.duration}</div>
<div class="course-item-detail"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>${course.startDate} to ${course.endDate}</div>
<div class="course-item-detail"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>Max ${course.maxStudents} students</div>
</div>
<div class="course-item-actions">
<button class="action-btn" onclick="viewCourseDetails(${course.id})"><svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>View</button>
</div>
`;
list.appendChild(div);
});
}

function openAddCourseModal(){
document.getElementById('addCourseModal').classList.add('show');
}

function closeAddCourseModal(){
document.getElementById('addCourseModal').classList.remove('show');
document.getElementById('courseTitle').value='';
document.getElementById('courseInstructor').value='';
document.getElementById('courseDesc').value='';
document.getElementById('courseDuration').value='';
document.getElementById('courseMaxStudents').value='';
document.getElementById('courseStartDate').value='';
document.getElementById('courseEndDate').value='';
document.getElementById('courseCompetencies').value='';
document.getElementById('uploadedFileInfo').innerHTML='';
uploadedFileName=null;
}

function handleFileUpload(input){
if(input.files&&input.files[0]){
const file=input.files[0];
uploadedFileName=file.name;
document.getElementById('uploadedFileInfo').innerHTML=`
<div class="uploaded-file">
<svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
<span>${file.name}</span>
<button type="button" onclick="removeUploadedFile()"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
</div>
`;
}
}

function removeUploadedFile(){
document.getElementById('courseFile').value='';
document.getElementById('uploadedFileInfo').innerHTML='';
uploadedFileName=null;
}

function submitCourseToAdmin(){
const title=document.getElementById('courseTitle').value.trim();
const instructor=document.getElementById('courseInstructor').value.trim();
const desc=document.getElementById('courseDesc').value.trim();
const duration=document.getElementById('courseDuration').value.trim();
const maxStudents=document.getElementById('courseMaxStudents').value;
const startDate=document.getElementById('courseStartDate').value;
const endDate=document.getElementById('courseEndDate').value;
const competencies=document.getElementById('courseCompetencies').value.trim();

if(!title||!instructor||!desc||!duration||!startDate||!endDate||!competencies){
st('Please fill in all required fields');
return;
}

const newCourse={
id:coursesData.length+1,
title:title,
instructor:instructor,
description:desc,
duration:duration,
startDate:startDate,
endDate:endDate,
competencies:competencies,
status:'pending',
maxStudents:maxStudents||30,
document:uploadedFileName
};

coursesData.push(newCourse);
closeAddCourseModal();
renderCourses();
document.getElementById('successModal').classList.add('show');
}

function closeSuccessModal(){
document.getElementById('successModal').classList.remove('show');
}

function viewCourseDetails(courseId){
const course=coursesData.find(c=>c.id===courseId);
if(course){
st(`Viewing ${course.title}`);
}
}

// Analytics - Accordion
function renderAnalytics(){
const container=document.getElementById('analyticsAccordion');
if(!container)return;
container.innerHTML='';
analyticsData.forEach((course,index)=>{
const div=document.createElement('div');
div.className='course-accordion';
div.innerHTML=`
<div class="accordion-header" onclick="toggleAccordion(${index})">
<div class="accordion-title">
<h5>${course.course}</h5>
<span>${course.students.length} students completed</span>
</div>
<svg class="accordion-arrow" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg>
</div>
<div class="accordion-content" id="accordion-${index}">
<div class="student-report-list">
${course.students.map(s=>`
<div class="student-report-item">
<div class="student-report-info">
<div class="student-report-avatar">${s.name.split(' ').map(n=>n[0]).join('')}</div>
<span class="student-report-name">${s.name}</span>
</div>
<span class="student-report-score">${s.score}%</span>
</div>
`).join('')}
</div>
</div>
`;
container.appendChild(div);
});
}

function toggleAccordion(index){
const content=document.getElementById(`accordion-${index}`);
const header=content.previousElementSibling;
content.classList.toggle('open');
header.classList.toggle('open');
}

function toggleDarkMode(){
document.body.classList.toggle('dark');
const icon=document.getElementById('themeIcon');
if(document.body.classList.contains('dark')){
icon.innerHTML='<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
}else{
icon.innerHTML='<circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>';
}
}

function showDash(u){
document.getElementById('aw').style.display='none';
document.getElementById('dw').classList.add('active');
document.body.classList.add('dm');
const n=u.includes('@')?u.split('@')[0]:'Verifier';
const d=n.charAt(0).toUpperCase()+n.slice(1);
document.getElementById('dn').innerHTML=d;
document.getElementById('da').textContent=d.substring(0,2).toUpperCase();
setTimeout(()=>{
renderLineChart('monthly');
renderTasks();
renderHistory();
renderCourses();
renderAnalytics();
},300);
}

function logout(){
document.getElementById('dw').classList.remove('active');
document.getElementById('aw').style.display='flex';
document.body.classList.remove('dm');
st('Signed out successfully');
sp('loginPage');
document.getElementById('loginForm').reset();
}

function sp(id){document.querySelectorAll('.fpg').forEach(p=>p.classList.remove('active'));setTimeout(()=>document.getElementById(id).classList.add('active'),50);document.querySelectorAll('.em').forEach(e=>e.classList.remove('show'));document.querySelectorAll('.fp input').forEach(i=>i.classList.remove('err'))}

function tgp(id,b){const i=document.getElementById(id);const p=i.type==='password';i.type=p?'text':'password';b.innerHTML=p?'<svg viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>':'<svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'}

function se(id,m){const e=document.getElementById(id);if(m)e.querySelector('span').textContent=m;e.classList.add('show')}
function ce(fid){document.querySelectorAll('#'+fid+' .em').forEach(e=>e.classList.remove('show'));document.querySelectorAll('#'+fid+' input').forEach(i=>i.classList.remove('err'))}
function sk(fid){const f=document.getElementById(fid);f.classList.add('shake');setTimeout(()=>f.classList.remove('shake'),400)}
function ve(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}
function st(m){document.getElementById('toastMsg').textContent=m;document.getElementById('toast').classList.add('show');setTimeout(()=>document.getElementById('toast').classList.remove('show'),3000)}

function cs(v){let s=0;if(v.length>=8)s++;if(/[A-Z]/.test(v))s++;if(/[0-9]/.test(v))s++;if(/[^A-Za-z0-9]/.test(v))s++;const l=['','Weak','Medium','Strong','Very Strong'],c=['','weak','medium','strong','vstrong'];for(let i=1;i<=4;i++){const b=document.getElementById('s'+i);b.className='sb';if(i<=s)b.classList.add(c[s])}document.getElementById('slb').textContent=v.length>0?l[s]:''}

document.getElementById('loginForm').addEventListener('submit',function(e){e.preventDefault();ce('loginForm');let v=true;const u=document.getElementById('lu').value.trim(),p=document.getElementById('lp').value.trim(),c=document.getElementById('lci').value.trim();
if(!u){se('lue','Please enter your email');document.getElementById('lu').classList.add('err');v=false}
if(!p){se('lpe','Please enter your password');document.getElementById('lp').classList.add('err');v=false}
if(!c){se('lce','Please enter the captcha code');v=false}else if(c!==cp.l){se('lce','Captcha does not match. Try again.');v=false;gc('l')}
if(!v){sk('loginForm');return}
st('Login successful! Redirecting...');setTimeout(()=>showDash(u),1000);gc('l')});

document.getElementById('signupForm').addEventListener('submit',function(e){e.preventDefault();ce('signupForm');let v=true;
if(!document.getElementById('sf').value.trim()){se('sfe');document.getElementById('sf').classList.add('err');v=false}
if(!document.getElementById('sla').value.trim()){se('slae');document.getElementById('sla').classList.add('err');v=false}
const em=document.getElementById('se').value.trim();if(!em||!ve(em)){se('see');document.getElementById('se').classList.add('err');v=false}
if(!document.getElementById('sph').value.trim()){se('sphe');document.getElementById('sph').classList.add('err');v=false}
if(!document.getElementById('sid').value.trim()){se('side');document.getElementById('sid').classList.add('err');v=false}
const pw=document.getElementById('spw').value.trim();if(!pw||pw.length<8){se('spwe');document.getElementById('spw').classList.add('err');v=false}
const c=document.getElementById('sci').value.trim();if(!c){se('sce','Please enter captcha');v=false}else if(c!==cp.s){se('sce','Captcha does not match.');v=false;gc('s')}
if(!v){sk('signupForm');return}
st('Account created!');this.reset();cs('');gc('s');setTimeout(()=>sp('loginPage'),1500)});

document.getElementById('forgotForm').addEventListener('submit',function(e){e.preventDefault();ce('forgotForm');let v=true;
const em=document.getElementById('fe').value.trim();if(!em||!ve(em)){se('fee');document.getElementById('fe').classList.add('err');v=false}
const c=document.getElementById('fci').value.trim();if(!c){se('fce','Please enter captcha');v=false}else if(c!==cp.f){se('fce','Captcha does not match.');v=false;gc('f')}
if(!v){sk('forgotForm');return}
st('Reset link sent to your email!');gc('f');this.reset()});

document.querySelectorAll('.fp input').forEach(i=>{i.addEventListener('input',function(){this.classList.remove('err');const e=this.closest('.fg')?.querySelector('.em');if(e)e.classList.remove('show')})});

document.querySelectorAll('.side-nav .ni').forEach(item=>{
item.addEventListener('click',function(){
const view=this.getAttribute('data-view');
if(!view)return;
document.querySelectorAll('.side-nav .ni').forEach(n=>n.classList.remove('active'));
this.classList.add('active');
document.querySelectorAll('.dv').forEach(v=>v.classList.remove('active'));
const titles={dashboard:'Dashboard',taskqueue:'Task Queue',taskhistory:'Task History',collaboration:'Collaboration',analytics:'Reports and Analytics'};
document.getElementById('pageTitle').textContent=titles[view]||'Dashboard';
const targetView=view+'View';
const el=document.getElementById(targetView);
if(el)el.classList.add('active');
if(window.innerWidth<=768)document.getElementById('side').classList.remove('open');
});
});

window.addEventListener('resize',function(){
if(document.getElementById('lineChart')){
renderLineChart(currentChartView);
}
});
</script>
</body>
</html>




